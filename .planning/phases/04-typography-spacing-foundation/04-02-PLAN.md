---
phase: 04-typography-spacing-foundation
plan: 02
type: execute
wave: 2
depends_on: [04-01]
files_modified: [css/style.css]
autonomous: false
requirements: [TYPO-03, TYPO-04, HOVR-01]

must_haves:
  truths:
    - "Cards show rounded corners (8px) and subtle layered shadows that lift them off the page"
    - "Every H2 heading displays a small colored accent bar above it"
    - "All buttons, links, and cards animate on hover with the same speed and easing"
    - "Hover transitions feel snappy and responsive, not sluggish"
  artifacts:
    - path: "css/style.css"
      provides: "Card refinement, H2 accent bars, unified transitions"
      contains: "::before"
  key_links:
    - from: "css/style.css :root"
      to: ".card, .product-card, .value-card, .contact-card, h2"
      via: "CSS custom property references"
      pattern: "var\\(--radius-card\\)|var\\(--shadow-card"
---

<objective>
Refine card styling with layered shadows and 8px radius, add H2 accent bars, and unify all hover transitions.

Purpose: Complete the premium visual foundation by polishing cards (depth via layered shadows), adding visual rhythm with H2 accent bars, and ensuring every interactive element responds with identical timing. This is the "feel" layer on top of Plan 01's typography/spacing.

Output: Updated css/style.css with card refinement, H2 accent bars via ::before pseudo-element, and unified transition system.
</objective>

<execution_context>
@/home/thiago/.claude/get-shit-done/workflows/execute-plan.md
@/home/thiago/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-typography-spacing-foundation/04-RESEARCH.md
@.planning/phases/04-typography-spacing-foundation/04-01-SUMMARY.md
@css/style.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Upgrade card styling and unify transition system</name>
  <files>css/style.css</files>
  <action>
**Update :root custom properties:**

1. Replace `--radius: 4px` with `--radius: 8px` (affects all elements using var(--radius))
2. Replace `--shadow-card: 0 2px 8px rgba(0, 0, 0, 0.1)` with layered shadow:
   ```css
   --shadow-card: 0 1px 2px rgba(0, 0, 0, 0.04), 0 4px 12px rgba(0, 0, 0, 0.06);
   ```
3. ADD new hover shadow custom property:
   ```css
   --shadow-card-hover: 0 2px 4px rgba(0, 0, 0, 0.04), 0 8px 24px rgba(0, 0, 0, 0.1), 0 16px 48px rgba(0, 0, 0, 0.04);
   ```
4. Replace `--transition: 0.3s ease` with unified system:
   ```css
   --transition-duration: 0.25s;
   --transition-easing: cubic-bezier(0.4, 0, 0.2, 1);
   --transition: var(--transition-duration) var(--transition-easing);
   ```

**Update card hover states to use new shadow variable:**

5. `.card:hover` — change `box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15)` to `box-shadow: var(--shadow-card-hover)`
6. `.value-card:hover` — change `box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12)` to `box-shadow: var(--shadow-card-hover)`
7. `.product-card:hover` — change `box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15)` to `box-shadow: var(--shadow-card-hover)`
8. `.product-detail:hover` — change `box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15)` to `box-shadow: var(--shadow-card-hover)`
9. `.contact-card:hover` — change `box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12)` to `box-shadow: var(--shadow-card-hover)`

**Update button hover shadow to match system:**

10. `.btn:hover` — change `box-shadow: 0 2px 8px rgba(0, 86, 179, 0.3)` to `box-shadow: 0 2px 8px rgba(0, 86, 179, 0.3)` (keep brand-tinted shadow for buttons — they're different from cards intentionally)

**Ensure all transition properties include box-shadow:**

11. `.card` — ensure transition includes `box-shadow`: `transition: box-shadow var(--transition);`
12. `.value-card` — ensure transition includes box-shadow: `transition: transform var(--transition), box-shadow var(--transition);`
13. `.contact-card` — ensure transition includes box-shadow: `transition: transform var(--transition), box-shadow var(--transition);`

All existing `var(--transition)` references automatically pick up the new 0.25s cubic-bezier timing since the custom property changed in :root.
  </action>
  <verify>
Grep css/style.css for "--shadow-card-hover" — should find definition in :root and references in hover states. Grep for "0.3s ease" — should find 0 occurrences (replaced by cubic-bezier). Grep for "border-radius: 4px" — should find 0 occurrences (all via var(--radius) which is now 8px).
  </verify>
  <done>All cards use 8px radius (via --radius), layered shadows at rest and on hover, and 0.25s cubic-bezier transitions. No hardcoded hover shadows remain. All interactive elements share identical transition timing via --transition custom property.</done>
</task>

<task type="auto">
  <name>Task 2: Add H2 accent bars via ::before pseudo-element</name>
  <files>css/style.css</files>
  <action>
Add H2 accent bar styling after the existing h2 rule in the Typography section:

```css
h2 {
  position: relative;
  padding-top: 1.25rem;
}

h2::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 40px;
  height: 3px;
  background-color: var(--color-primary);
  border-radius: 2px;
}
```

**Handle centered sections** — the hero and centered sections need centered accent bars. Add after the h2::before rule:

```css
/* Centered accent bar for hero and centered content */
.hero h2::before,
.section-cta + h2::before {
  left: 50%;
  transform: translateX(-50%);
}
```

**Exclude h2 in product-detail cards** — product detail h2 headings inside cards should NOT have accent bars (they'd look odd inside card bodies). Add exception:

```css
.product-detail h2 {
  padding-top: 0;
}

.product-detail h2::before {
  display: none;
}
```

**Exclude footer** — footer h3 elements are not h2, so no conflict there.

NOTE: The hero section uses h1 not h2, so no conflict. The accent bars appear on all section-level H2 headings: "Nossos Valores", "Nossos Produtos" on index.html, section headings on empresa.html, and the product page heading. This is the correct behavior.
  </action>
  <verify>
Grep css/style.css for "h2::before" — should find the rule. Open index.html and verify H2 headings "Nossos Valores" and "Nossos Produtos" display a small blue bar above them.
  </verify>
  <done>Every H2 heading displays a 40px wide, 3px tall brand-blue accent bar above it. Product detail card H2s are excluded. Accent bars use --color-primary for brand consistency.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 3: Visual verification of all Phase 4 changes</name>
  <files>css/style.css</files>
  <action>
Present the user with a visual verification checkpoint for all Phase 4 changes:
- Fluid typography (clamp-based headings scaling smoothly)
- Generous section spacing (6rem on desktop)
- Refined cards (8px radius, layered shadows)
- H2 accent bars (blue bar above each H2)
- Unified hover transitions (0.25s cubic-bezier on all interactive elements)

Verification steps for user:
1. Open index.html — check hero heading, H2 accent bars, card corners/shadows, section spacing
2. Resize browser 1200px to 375px — headings shrink smoothly, no abrupt jumps
3. Open produtos.html — product detail H2s should NOT have accent bars
4. Open empresa.html — section H2 has accent bar, value items hover smoothly
5. Test hover on buttons, nav links, cards — all should feel identical speed and easing
  </action>
  <verify>User types "approved" or describes issues to fix.</verify>
  <done>User has verified that all Phase 4 visual changes look correct across all pages and viewport sizes.</done>
</task>

</tasks>

<verification>
1. All headings use clamp() — no fixed font-size on any heading
2. Section padding is fluid: 3rem mobile → 6rem desktop
3. Card border-radius is 8px everywhere (via --radius custom property)
4. Card shadows are layered (multi-shadow) at rest and hover
5. H2 accent bars appear on all section H2 headings
6. Product detail H2s are excluded from accent bars
7. All hover transitions use 0.25s cubic-bezier(0.4, 0, 0.2, 1)
8. No visual regressions on any of the 5 pages
</verification>

<success_criteria>
- Cards have 8px border-radius and layered box-shadows
- All card hover states use --shadow-card-hover
- H2 accent bars visible on section headings (40px wide, 3px tall, brand blue)
- Product detail H2s excluded from accent bars
- All transitions unified to 0.25s cubic-bezier(0.4, 0, 0.2, 1) via --transition
- User approves visual appearance in checkpoint
</success_criteria>

<output>
After completion, create `.planning/phases/04-typography-spacing-foundation/04-02-SUMMARY.md`
</output>
