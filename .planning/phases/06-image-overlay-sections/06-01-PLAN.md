---
phase: 06-image-overlay-sections
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [css/style.css, produtos.html]
autonomous: true
requirements: [HERO-01, HERO-02]

must_haves:
  truths:
    - "Hero section displays a branded blue-to-dark gradient overlay instead of the previous flat rgba(0,0,0,0.55)"
    - "Produtos catalog CTA section has a full-width background image with gradient overlay and readable white text"
    - "H2 accent bars inside overlay sections use white instead of brand blue for visibility"
    - "Text in overlay sections meets readability standards (sufficient contrast against gradient)"
  artifacts:
    - path: "css/style.css"
      provides: "Hero gradient upgrade and reusable .overlay-section pattern"
      contains: "linear-gradient"
    - path: "produtos.html"
      provides: "Catalog CTA section with overlay-section class and background image"
      contains: "overlay-section"
  key_links:
    - from: "css/style.css"
      to: "produtos.html"
      via: ".overlay-section class applied to catalog CTA section"
      pattern: "overlay-section"
---

<objective>
Upgrade the hero overlay from flat black to a branded blue-to-dark gradient, create a reusable `.overlay-section` CSS pattern, and apply it to the Produtos page catalog CTA section with a background image.

Purpose: Add visual depth through branded gradient overlays on photographic backgrounds, completing the v1.1 visual polish milestone.
Output: Updated css/style.css with gradient overlays and reusable pattern, updated produtos.html with overlay-section applied to catalog CTA.
</objective>

<execution_context>
@/home/thiago/.claude/get-shit-done/workflows/execute-plan.md
@/home/thiago/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@css/style.css
@produtos.html
</context>

<tasks>

<task type="auto">
  <name>Task 1: Upgrade hero gradient and create reusable overlay-section CSS pattern</name>
  <files>css/style.css</files>
  <action>
In css/style.css, make these changes:

1. **Replace the hero overlay** (around line 303-309):
   Change `.hero::before` background from `rgba(0, 0, 0, 0.55)` to a 3-stop linear gradient:
   ```css
   .hero::before {
     content: '';
     position: absolute;
     inset: 0;
     background: linear-gradient(
       to bottom,
       rgba(0, 86, 179, 0.7) 0%,
       rgba(0, 40, 80, 0.8) 50%,
       rgba(0, 0, 0, 0.85) 100%
     );
     z-index: 1;
   }
   ```
   The gradient transitions from semi-transparent brand blue (#0056b3 at 0.7 opacity) through a mid-dark blue to near-black at the bottom, maintaining text readability while adding brand color.

2. **Add reusable `.overlay-section` pattern** as a new CSS section. Insert it AFTER the Hero Section block (after `.hero .tagline` styles, before the Buttons section). Create a new section header comment:
   ```css
   /* ==========================================================================
      Overlay Sections (reusable full-width image + gradient pattern)
      ========================================================================== */
   ```
   Add these rules:
   - `.overlay-section`: position relative, background-size cover, background-position center, background-repeat no-repeat, color var(--color-white), overflow hidden
   - `.overlay-section::before`: content '', position absolute, inset 0, linear-gradient using CSS custom properties `var(--overlay-from, rgba(0, 86, 179, 0.7))` and `var(--overlay-to, rgba(0, 0, 0, 0.85))`, z-index 1
   - `.overlay-section > *`: position relative, z-index 2 (so content sits above overlay)
   - `.overlay-section h2`: color var(--color-white)
   - `.overlay-section h2::before`: background-color var(--color-white) (fixes accent bar visibility on dark background)
   - `.overlay-section a`: color var(--color-white)
   - `.overlay-section .btn`: ensure button remains styled correctly (color white already from .btn base, but add for specificity)
   - `.overlay-section p`: color rgba(255, 255, 255, 0.9) for slightly softer body text

Do NOT add `.overlay-section` to the hero -- the hero keeps its own `::before` with the specific 3-stop gradient. The `.overlay-section` class is for OTHER sections that need the pattern.
  </action>
  <verify>
Verify in css/style.css:
- `.hero::before` contains `linear-gradient` with 3 color stops (no more `rgba(0, 0, 0, 0.55)`)
- `.overlay-section` class exists with `::before` gradient using custom properties
- `.overlay-section > *` has z-index 2
- `.overlay-section h2::before` overrides accent bar to white
  </verify>
  <done>Hero uses branded blue-to-dark gradient. Reusable overlay-section CSS pattern exists with configurable gradient via custom properties, proper z-index layering, and white accent bar override.</done>
</task>

<task type="auto">
  <name>Task 2: Apply overlay-section to Produtos catalog CTA section</name>
  <files>produtos.html</files>
  <action>
In produtos.html, transform the catalog CTA section (lines 80-89) from a flat `section--alt` section into a full-width image overlay section:

1. **Change the section element** (line 80):
   - Remove `section--alt` class
   - Add `overlay-section` class
   - Add inline `style="background-image: url('https://metamedical.com.br/pic/medical-slide-1.jpg')"` for the background image (reusing the hero image which is already a medical/clinical setting)
   - Keep the `section` class for padding
   - Result: `<section class="section overlay-section" style="background-image: url('https://metamedical.com.br/pic/medical-slide-1.jpg')">`

2. **Remove the inline color style** from the phone number paragraph (line 86):
   - Remove `style="margin-top: var(--space-sm); color: var(--color-text-secondary);"`
   - Replace with `style="margin-top: var(--space-sm);"` only (the overlay-section CSS will handle text color to white)

3. **Keep the `reveal` class** on the container div -- scroll reveal should still work inside overlay sections (z-index 2 on `> *` ensures this).

The section should now display the medical slide image as background with the branded blue-to-dark gradient overlay, and all text (h2, p, button, phone number) should be white/light for readability.
  </action>
  <verify>
Verify in produtos.html:
- Catalog CTA section has class `overlay-section` (not `section--alt`)
- Section has inline background-image style pointing to medical-slide-1.jpg
- Phone number paragraph no longer has `color: var(--color-text-secondary)` inline style
- `reveal` class is preserved on the container div
  </verify>
  <done>Produtos catalog CTA section displays a full-width medical image background with branded gradient overlay. All text is white and readable. Scroll reveal animation still works.</done>
</task>

</tasks>

<verification>
1. Open index.html in browser -- hero should show a blue-tinted gradient (brand blue at top fading to dark) instead of flat gray
2. Open produtos.html in browser -- catalog CTA section should show medical image background with gradient overlay and white text
3. Resize browser to mobile -- both sections should remain readable with image properly covering the area
4. Check that H2 "Solicite Nosso Catalogo" accent bar is white (not invisible blue-on-blue)
5. Verify no visual regressions on other pages (empresa, contato, localizacao)
</verification>

<success_criteria>
- Hero gradient is visually distinct from the old flat overlay -- blue tint visible at top
- Catalog CTA section has photographic background with readable text at all screen sizes
- `.overlay-section` CSS pattern exists and is reusable for future sections
- No z-index or visibility issues with text content
</success_criteria>

<output>
After completion, create `.planning/phases/06-image-overlay-sections/06-01-SUMMARY.md`
</output>
